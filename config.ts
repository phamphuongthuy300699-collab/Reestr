
// Логика определения адреса Базы Данных (PocketBase)
const getPocketBaseUrl = () => {
  // СЦЕНАРИЙ 1: Продакшн или Локальная сеть (Wi-Fi)
  // Если сайт открыт на порту 8090 (то есть он раздается самим PocketBase),
  // мы используем относительный путь '/'.
  // Это автоматически сработает и для localhost:8090, и для 192.168.x.x:8090.
  if (window.location.port === '8090') {
    return '/';
  }

  // СЦЕНАРИЙ 2: Разработка (Vite)
  // Если мы разрабатываем сайт (обычно порт 5173), то явно указываем адрес базы.
  // Внимание: это будет работать только на том же компьютере.
  return 'http://127.0.0.1:8090';
};

export const config = {
  // false = используем реальную Базу Данных (PocketBase)
  useMock: false, 
  
  pocketbaseUrl: getPocketBaseUrl(),

  // Это поле используется только если useMock: true (нам сейчас не важно)
  apiUrl: 'http://localhost:3000/api'
};
